<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Patterns"><meta property="og:title" content="Patterns" />
<meta property="og:description" content="Patterns Patterns æ§åˆ¶æ˜¯å¦æ‰§è¡Œ actionsï¼Œåªæœ‰å½“ pattern åŒ¹é…çš„æ—¶å€™ï¼Œæ‰ä¼šæ‰§è¡Œ actionã€‚
æœ¬æ–‡ä»‹ç»å…­ç§å¸¸ç”¨çš„ patternï¼š
 BEGIN { statements }ï¼šæ‰€æœ‰è¡Œå¤„ç†ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ BEGIN END { statements }ï¼šæ‰€æœ‰è¡Œå¤„ç†å®Œäº†æ‰§è¡Œä¸€æ¬¡ END expression { statements }ï¼šæ™®é€šçš„è¡¨è¾¾å¼ /æ­£åˆ™è¡¨è¾¾å¼/ { statements }ï¼šåŒ¹é…æ­£åˆ™ ç»„åˆè¡¨è¾¾å¼ { statements }ï¼šä½¿ç”¨ &amp;&amp; æˆ– || æˆ– ! è¿›è¡Œç»„åˆ pattern1, pattern2 { statements }ï¼šèŒƒå›´åŒ¹é…  BEGIN å’Œ END BEGIN å’Œ END åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼ŒBEGIN æ˜¯åœ¨å¼€å§‹æ‰§è¡Œå‰æ‰§è¡Œï¼ŒEND æ˜¯åœ¨ç»“æŸå‰æ‰§è¡Œã€‚
ä¸€ç§å¸¸è§çš„ä½¿ç”¨ BEGIN çš„ç”¨æ³•æ˜¯æ”¹å˜é»˜è®¤çš„åˆ—åˆ†å‰²ç¬¦ï¼Œåˆ—åˆ†å‰²ç¬¦é»˜è®¤è¢«ä¸€ä¸ªå†…ç½®å˜é‡ FS æ‰€æ§åˆ¶ï¼Œè¿™ä¸ªå˜é‡çš„é»˜è®¤å€¼æ˜¯ç©ºæ ¼æˆ–è€…tabsã€‚å¦‚ä¸‹ç¤ºä¾‹åœ¨ BEGIN ä¸­è®¾ç½®äº† FS ä¸º \tï¼ŒåŒæ—¶æ‰“å°äº†è¡¨å¤´ã€‚åœ¨ END å—ä¸­æ‰“å°äº†é¢ç§¯å’Œäººå£çš„æ€»å’Œã€‚
BEGIN { FS = &#34;\t&#34; printf(&#34;%10s %6s %5s %s\n\n&#34;, &#34;COUNTRY&#34;, &#34;AREA&#34;, &#34;POP&#34;, &#34;CONTINENT&#34;) } { printf(&#34;%10s %6d %5d %s\n&#34;, $1, $2, $3, $4) area = area &#43; $2 pop = pop &#43; $3 } END { printf(&#34;\n%10s %6d %5d\n&#34;, &#34;TOTAL&#34;, area, pop) } expression è¡¨è¾¾å¼ç¤ºä¾‹ï¼š" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kunzhao.org/docs/tutorial/awk/patterns/" />

<title>Patterns | èµµå¤çš„ä¸ªäººç½‘ç«™</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.a04069c4ba149e24630fa6fbc98cd4da6e386beb4688b0aae5809dbb5660cd77.css" integrity="sha256-oEBpxLoUniRjD6b7yYzU2m44a&#43;tGiLCq5YCdu1ZgzXc=">


<script defer src="/en.search.min.a775bdf01f2ba2fd4cce0f5ac9c85f14c88129fc2b952e0bfc627645338e8d97.js" integrity="sha256-p3W98B8rov1Mzg9aychfFMiBKfwrlS4L/GJ2RTOOjZc="></script>
<script>
var _hmt = _hmt || [];
(function() {
  if (location.hostname === "localhost" || 
    location.hostname === "127.0.0.1") {
    return;
  }

  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d04ff9e23cec6cb39ebbee1b4883e269";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<script data-ad-client="ca-pub-8950855178079071" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>èµµå¤çš„ä¸ªäººç½‘ç«™</span>
  </a>
</h2>








  

  
  





 
  
    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/" >
      ğŸ’¡æ•™ç¨‹
  </a>


    

    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/front-end-optimization-guide/" >
      å‰ç«¯ä¼˜åŒ–æŒ‡å—
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/unix-command/" >
      UNIX å¸¸ç”¨å‘½ä»¤å¤§å…¨
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/unix-optimize/" >
      UNIX æ€§èƒ½ä¼˜åŒ–
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/git/" >
      Git æ•™ç¨‹
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/network/" >
      ç½‘ç»œåè®®
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/awk/" >
      AWK æ•™ç¨‹
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/docs/tutorial/awk/intro/" >
      ç®€ä»‹
  </a>

</li>
      
    
      
        <li>

  <a href="/docs/tutorial/awk/patterns/"  class="active">
      Patterns
  </a>

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/devops/" >
      DevOps
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/sentinel/" >
      é˜¿é‡Œå·´å·´ Sentinel
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/zipkin/" >
      Zipkin æºç åˆ†æ
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tutorial/eureka/" >
      Netflix Eureka æºç åˆ†æ
  </a>


    

    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/hire/" >
      ğŸ‘‰æ‹›è˜
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/it-zone/" >
      IT åœˆ
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/rocketmq/" >
      RocketMQ æºç åˆ†æ
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/javascript/" >
      JavaScript ä¸“æ 
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/books/" >
      ä¹¦ç±
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/programmer-interview/" >
      ğŸ‘ ç¨‹åºå‘˜é¢è¯•é¢˜
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/cloud-plus-bbs/" >
      äº‘&#43;ç¤¾åŒºæŠ€æœ¯æ²™é¾™
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/tools/" >
      å®ç”¨å·¥å…·
  </a>


    

    






  </li>


      
    
  </ul>
  



  












<ul>
  
  <li>
    <a href="/posts/" >
        åšå®¢
      </a>
  </li>
  
</ul>



</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Patterns</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#begin-å’Œ-end">BEGIN å’Œ END</a></li>
    <li><a href="#expression">expression</a></li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
<article class="markdown"><h1 id="patterns">Patterns</h1>
<p><code>Patterns</code> æ§åˆ¶æ˜¯å¦æ‰§è¡Œ <code>actions</code>ï¼Œåªæœ‰å½“ <code>pattern</code> åŒ¹é…çš„æ—¶å€™ï¼Œæ‰ä¼šæ‰§è¡Œ <code>action</code>ã€‚</p>
<p>æœ¬æ–‡ä»‹ç»å…­ç§å¸¸ç”¨çš„ <code>pattern</code>ï¼š</p>
<ul>
<li><code>BEGIN { statements }</code>ï¼šæ‰€æœ‰è¡Œå¤„ç†ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ <code>BEGIN</code></li>
<li><code>END { statements }</code>ï¼šæ‰€æœ‰è¡Œå¤„ç†å®Œäº†æ‰§è¡Œä¸€æ¬¡ <code>END</code></li>
<li><code>expression { statements }</code>ï¼šæ™®é€šçš„è¡¨è¾¾å¼</li>
<li><code>/æ­£åˆ™è¡¨è¾¾å¼/ { statements }</code>ï¼šåŒ¹é…æ­£åˆ™</li>
<li><code>ç»„åˆè¡¨è¾¾å¼ { statements }</code>ï¼šä½¿ç”¨ <code>&amp;&amp;</code> æˆ– <code>||</code> æˆ– <code>!</code> è¿›è¡Œç»„åˆ</li>
<li><code>pattern1, pattern2 { statements }</code>ï¼šèŒƒå›´åŒ¹é…</li>
</ul>
<h2 id="begin-å’Œ-end">BEGIN å’Œ END</h2>
<p>BEGIN å’Œ END åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼ŒBEGIN æ˜¯åœ¨å¼€å§‹æ‰§è¡Œå‰æ‰§è¡Œï¼ŒEND æ˜¯åœ¨ç»“æŸå‰æ‰§è¡Œã€‚</p>
<p>ä¸€ç§å¸¸è§çš„ä½¿ç”¨ BEGIN çš„ç”¨æ³•æ˜¯æ”¹å˜é»˜è®¤çš„åˆ—åˆ†å‰²ç¬¦ï¼Œåˆ—åˆ†å‰²ç¬¦é»˜è®¤è¢«ä¸€ä¸ªå†…ç½®å˜é‡ <code>FS</code> æ‰€æ§åˆ¶ï¼Œè¿™ä¸ªå˜é‡çš„é»˜è®¤å€¼æ˜¯<strong>ç©ºæ ¼æˆ–è€…tabs</strong>ã€‚å¦‚ä¸‹ç¤ºä¾‹åœ¨ BEGIN ä¸­è®¾ç½®äº† <code>FS</code> ä¸º <code>\t</code>ï¼ŒåŒæ—¶æ‰“å°äº†è¡¨å¤´ã€‚åœ¨ END å—ä¸­æ‰“å°äº†é¢ç§¯å’Œäººå£çš„æ€»å’Œã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-awk" data-lang="awk">BEGIN {
        FS <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\t&#34;</span>
        <span style="color:#66d9ef">printf</span>(<span style="color:#e6db74">&#34;%10s %6s %5s   %s\n\n&#34;</span>, <span style="color:#e6db74">&#34;COUNTRY&#34;</span>, <span style="color:#e6db74">&#34;AREA&#34;</span>, <span style="color:#e6db74">&#34;POP&#34;</span>, <span style="color:#e6db74">&#34;CONTINENT&#34;</span>) 
      }
      {
        <span style="color:#66d9ef">printf</span>(<span style="color:#e6db74">&#34;%10s %6d %5d   %s\n&#34;</span>, <span style="color:#f92672">$</span><span style="color:#ae81ff">1</span>, <span style="color:#f92672">$</span><span style="color:#ae81ff">2</span>, <span style="color:#f92672">$</span><span style="color:#ae81ff">3</span>, <span style="color:#f92672">$</span><span style="color:#ae81ff">4</span>)
        <span style="color:#a6e22e">area</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">area</span> <span style="color:#f92672">+</span> <span style="color:#f92672">$</span><span style="color:#ae81ff">2</span>
        <span style="color:#a6e22e">pop</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pop</span> <span style="color:#f92672">+</span> <span style="color:#f92672">$</span><span style="color:#ae81ff">3</span>
      }
END {
        <span style="color:#66d9ef">printf</span>(<span style="color:#e6db74">&#34;\n%10s %6d %5d\n&#34;</span>, <span style="color:#e6db74">&#34;TOTAL&#34;</span>, <span style="color:#a6e22e">area</span>, <span style="color:#a6e22e">pop</span>)
    }
</code></pre></div><h2 id="expression">expression</h2>
<p>è¡¨è¾¾å¼ç¤ºä¾‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-awk" data-lang="awk"><span style="color:#f92672">$</span><span style="color:#ae81ff">3</span> <span style="color:#f92672">/</span> <span style="color:#f92672">$</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0.5</span>
<span style="color:#f92672">$</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&gt;=</span> <span style="color:#e6db74">&#34;M&#34;</span>
<span style="color:#f92672">$</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;</span> <span style="color:#f92672">$</span><span style="color:#ae81ff">4</span>
</code></pre></div><p>å¯ç”¨çš„æ¯”è¾ƒç¬¦å·ï¼š</p>
<p><img src="/images/docs/tutorial/awk/patterns/comparison_operators.png" alt=""></p>
<blockquote>
<p><code>~</code> å’Œ <code>!~</code> æ˜¯ä¸“é—¨ç”¨äºæ¯”è¾ƒå­—ç¬¦ä¸²çš„ç¬¦å·</p>
</blockquote>
<p>å¦‚æœè¡¨è¾¾å¼è¿”å›çš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œé‚£ä¹ˆæ ¹æ®æ­¤å¸ƒå°”å€¼æ¥å†³å®šæ˜¯å¦åŒ¹é…è¿™ä¸€è¡Œï¼›å¦‚æœè¡¨è¾¾å¼è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæ•°å­—å¦‚æœæ˜¯é 0 æ•°å­—ï¼Œä¼šåŒ¹é…è¿™ä¸€è¡Œï¼›å¦‚æœè¡¨è¾¾å¼è¿”å›çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆéç©ºå­—ç¬¦ä¸²ï¼Œä¼šåŒ¹é…è¿™ä¸€è¡Œã€‚</p>
<p>å½“æ¯”è¾ƒæ“ä½œç¬¦çš„ä¸¤ä¸ªæ¯”è¾ƒå¯¹è±¡ï¼Œå‡ä¸ºæ•°å­—ï¼Œé‚£ä¹ˆä½¿ç”¨æ•°å­—çš„æ¯”è¾ƒåŸåˆ™è¿›è¡Œå¤§å°æ¯”è¾ƒï¼›å¦åˆ™ä»»ä½•æ•°å­—å°†ä¼šè¢«è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹å¼æŒ‰ç…§ ASCII é¡ºåºè¿›è¡Œæ¯”è¾ƒã€‚</p>
</article>
 

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
  
  <div class="book-comments">  
  
  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>

  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'Hw2fQnNQyghcgeRvQosC5cIy-gzGzoHsz',
        appKey: '0ULuPWcxGRLCaHz84icXvBgn',
        notify: 'false', 
        verify: 'false', 
        avatar:'mm', 
        placeholder: 'è¯´ç‚¹ä»€ä¹ˆå§...',
        visitor: 'true'
    });
  </script></div>
  
 
      </footer>
      
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#begin-å’Œ-end">BEGIN å’Œ END</a></li>
    <li><a href="#expression">expression</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>



</html>












