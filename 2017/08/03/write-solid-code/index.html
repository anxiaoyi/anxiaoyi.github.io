<html>
<head>
	
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><title>Write Solid Code</title>
	<meta name="keywords" content="代码人生,程序员,赵坤" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <!--<link rel="stylesheet" href="/css/main.css">-->
	<link href="/css/main.css?v=2" rel="stylesheet" type="text/css" />
    <!--<link rel="stylesheet" href="/css/style.css">-->
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2"/><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</head>

<body>

<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 id="Write-Solid-Code"><a href="#Write-Solid-Code" class="headerlink" title="Write Solid Code"></a>Write Solid Code</h2><h3 id="变量名的力量"><a href="#变量名的力量" class="headerlink" title="变量名的力量"></a>变量名的力量</h3><hr>
<p>最重要的考虑事项是: <strong>该名字要完全、准确地描述出该变量所代表的事物</strong></p>
<hr>
<p><strong>当变量名的平均长度在 10 到 16 个字符的时候</strong>，调试程序所需花费的力气是最小的。</p>
<hr>
<p><strong>常用对仗词</strong>:</p>
<p><img src="17-08-03-11_54_28_274_384.png" alt=""></p>
<hr>
<p><strong>为状态变量取一个比 <code>flag</code> 更好的名字</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (dataReady) &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (characterType &amp; PRINTABLE_CHAR) &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (reportType == REPORTYPE_ANNUAL) &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (recalcNeeded == <span class="keyword">false</span>) &#123;&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>Naming Boolean Variables</strong>:</p>
<ul>
<li><code>done, error, found, success, ok</code></li>
</ul>
<h3 id="防御式编程"><a href="#防御式编程" class="headerlink" title="防御式编程"></a>防御式编程</h3><p>在恰当的抽象层次抛出异常:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 此处声明的异常位于不一致的抽象层次</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TaxId <span class="title">getTaxId</span><span class="params">()</span> <span class="keyword">throws</span> EOFException </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>GetTaxId()</code> 将更底层的异常传递给其调用方，暴露了自身的一些实现细节，这就使得子程序的调用方代码不是与 <code>Employee</code> 类的代码耦合，而是与比 <code>Employee</code> 类层次更低的抛出 <code>EOFException</code> 异常的代码耦合起来了，相反，应该像下面这样:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TaxId <span class="title">GetTaxId</span><span class="params">()</span> <span class="keyword">throws</span> EmployeeDataNotAvailable </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="关键的构建决策"><a href="#关键的构建决策" class="headerlink" title="关键的构建决策"></a>关键的构建决策</h3><p>高级语言的语句与等效的 <code>C</code> 代码语句行数之比:</p>
<p><img src="17-08-03-14_52_27_829_283.png" alt=""></p>
<hr>
<p>软件的首要技术使命: <strong>管理复杂度</strong></p>
<hr>
<p>类的接口应该尽可能少地暴露其内部工作机制，类很像冰山: 八分之七位于水面以下，而你只能看到水面上的八分之一:</p>
<p><img src="17-08-03-15_01_40_412_390.png" alt=""></p>
<h3 id="API-设计参考"><a href="#API-设计参考" class="headerlink" title="API 设计参考"></a>API 设计参考</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Picasso.with(context).load(<span class="string">"http://i.imgur.com/DvpvklR.png"</span>).into(imageView);</span><br></pre></td></tr></table></figure>
<h3 id="异常封装的架构模式应用"><a href="#异常封装的架构模式应用" class="headerlink" title="异常封装的架构模式应用"></a>异常封装的架构模式应用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateCommand</span> <span class="keyword">extends</span> <span class="title">CliCommand</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CloseCommand</span> <span class="keyword">extends</span> <span class="title">CliCommand</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeleteCommand</span> <span class="keyword">extends</span> <span class="title">CliCommand</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>对于基类 <code>CliCommand</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CliCommand</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> CliCommand <span class="title">parse</span><span class="params">(String cmdArgs[])</span> <span class="keyword">throws</span> CliParseException</span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exec</span><span class="params">()</span> <span class="keyword">throws</span> CliException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述地方有两个地方值得借鉴：</p>
<ul>
<li><strong>在基类的方法中抛出异常</strong></li>
<li><strong>定义统一的异常基类</strong>:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CliParseException</span> <span class="keyword">extends</span> <span class="title">CliException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CliParseException</span><span class="params">(ParseException parseException)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(parseException);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MalformedPathException</span> <span class="keyword">extends</span> <span class="title">CliException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MalformedPathException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>子类<strong>封装</strong>自身抛出的异常，以一种统一的方式<strong>重新抛出</strong>异常:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exec</span><span class="params">()</span> <span class="keyword">throws</span> CliException </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String newPath = zk.create(path, data, acl, flags, <span class="keyword">new</span> Stat(), ttl)</span><br><span class="line">    &#125; <span class="keyword">catch</span>(IllegalArgumentException ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> MalformedPathException(ex.getMessage());</span><br><span class="line">    &#125; <span class="keyword">catch</span>(KeeperException.EphemeralOnLocalSessionException e) &#123;</span><br><span class="line">        err.println(<span class="string">"Unable to create ephemeral node on a local session"</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> CliWrapperException(e);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (KeeperException.InvalidACLException ex) &#123;</span><br><span class="line">        err.println(ex.getMessage());</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> CliWrapperException(ex);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (KeeperException|InterruptedException ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> CliWrapperException(ex);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="序列化-反序列化架构"><a href="#序列化-反序列化架构" class="headerlink" title="序列化/反序列化架构"></a>序列化/反序列化架构</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Record</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">serialize</span><span class="params">(OutputArchive archive, String tag)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deserialize</span><span class="params">(InputArchive archive, String tag)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中 <code>OutputArchive.java</code> 如下:</p>
<p><img src="2017_09_25_15_44_13.png" alt=""></p>
<p><code>InputArchive.java</code> 如下所示:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">InputArchive</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">byte</span> <span class="title">readByte</span><span class="params">(String tag)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">readBool</span><span class="params">(String tag)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="封装为-Context-的作用"><a href="#封装为-Context-的作用" class="headerlink" title="封装为 Context 的作用"></a>封装为 <code>Context</code> 的作用</h3><p>将变量和函数封装成各种<strong>上下文 (Context)</strong> 类， 使得 API 具有更好的易用性和扩展性。 首先， 函数参数列表经封装后变短， 使得函数更容易使用 ； 其次， <strong>当需要修改或添加某些变量或函数时， 只需修改封装后的上下文类即可</strong>， 用户代码无须修改， 这样保证了向后兼容性， 具有良好的扩展性。</p>
<p><code>MapReduce</code> 新版 <code>API</code> 的上下文继承树:</p>
<p><img src="2017_10_27_23_53_41.png" alt=""></p>
<h3 id="Configurable-可配置的作用"><a href="#Configurable-可配置的作用" class="headerlink" title="Configurable 可配置的作用"></a><code>Configurable</code> 可配置的作用</h3><p><img src="2017_11_02_22_08_42.png" alt=""></p>
<p>然后提供一个基类:</p>
<p><img src="2017_11_02_22_09_21.png" alt=""></p>
<h3 id="The-Clean-Code-Talks"><a href="#The-Clean-Code-Talks" class="headerlink" title="The Clean Code Talks"></a>The Clean Code Talks</h3><ul>
<li>Ask for Thinks ! Don’t look for Thinks !</li>
</ul>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Document</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	String html;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Document</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">		HtmlClient client = <span class="keyword">new</span> HtmlClient();</span><br><span class="line">		html = client.get(url);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更好的写法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Document</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	String html;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Document</span><span class="params">(String html)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.html = html;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DocumentFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	HtmlClient client;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DocumentFactory</span><span class="params">(HtmlClient client)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.client = client;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">Document <span class="title">build</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Document(client.get(url));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>Service Locator</strong>:</p>
<p><img src="2017_11_26_16_10_28.png" alt=""></p>
<p>应该这样做, The <code>House</code> has a clear API shown via the constructor:</p>
<p><img src="2017_11_26_16_12_55.png" alt=""></p>
<p>Service Locator 错在哪里:</p>
<ul>
<li>Mixing Respon    sibilities (Lookup, Factory)</li>
</ul>
<p>起如下这种名字的类都有可能有这种问题:</p>
<ul>
<li><code>Registry</code></li>
<li><code>Locator</code></li>
<li><code>Context</code></li>
<li><code>Manager</code></li>
<li><code>Handler</code></li>
<li><code>Environment</code></li>
<li><code>Principle</code></li>
</ul>
<hr>
<p>违反迪米特法则:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	AccountReceivable ar;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">purchase</span><span class="params">(Customer c)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// c.getWallet().getMoney() 违反 demeter 法则</span></span><br><span class="line">		Money m = c.getWallet().getMoney();</span><br><span class="line">		ar.recordSale(<span class="keyword">this</span>, m);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>遵循迪米特法则:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	AccountReceivable ar;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">purchase</span><span class="params">(Money m)</span> </span>&#123;</span><br><span class="line">		ar.recordSale(<span class="keyword">this</span>, m);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>Law of Demeter</strong>:</p>
<ul>
<li>You only ask for objects which you directly need (operate on)</li>
<li><code>a.getX().getY()</code> is a dead givaway</li>
<li><code>serviceLocator.getService()</code> is breaking the Law of Demeter</li>
<li>Dependency Injection of the specific object you need. Hollywood Principle.</li>
</ul>
<p>两个原则:</p>
<ul>
<li>业务逻辑不应该关心 object lookup of the construction, 它只需要说 I need all these things.</li>
<li><code>Factory</code>, <code>Builder</code>, <code>DI</code> 负责将这些东西组装在一起</li>
</ul>
<h3 id="Good-API"><a href="#Good-API" class="headerlink" title="Good API"></a>Good API</h3><ul>
<li>Easy to learn</li>
<li>Easy to use, even without documentation</li>
<li>Hard to misuse</li>
<li>Easy to read and maintain code that uses it</li>
<li>Sufficiently powerful to satisfy requirement</li>
<li>Easy to evolve</li>
</ul>
<hr>
<p>API should do one thing, and do it well.</p>
<p>If it’s hard to name, that’s generally a bad sign.</p>
<hr>
<p>The fundamental rules of API design:</p>
<ul>
<li>When in doubt, leave it out.</li>
<li>Don’t make the client    do anything the module could do.</li>
</ul>
<p>Reduce need for <strong>boilerplate code</strong></p>
<h3 id="Context-Design-Pattern"><a href="#Context-Design-Pattern" class="headerlink" title="Context Design Pattern"></a>Context Design Pattern</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// I would hate the class constructing the</span></span><br><span class="line"><span class="comment">// FileCopier to know it is interested in</span></span><br><span class="line"><span class="comment">// all of these!</span></span><br><span class="line">FileCopier copier = <span class="keyword">new</span> FileCopier(logger, </span><br><span class="line">                                   copierSettings, generalTimeouts);</span><br><span class="line"></span><br><span class="line"><span class="comment">// I end up doing this:</span></span><br><span class="line">FileCopier copier = <span class="keyword">new</span> FileCopier(configuration);</span><br><span class="line"><span class="comment">// and inside..</span></span><br><span class="line">FileCopier(Configuration configuration) &#123;</span><br><span class="line">    X = configuration.GetSetting(“X”, DefaultValue);</span><br><span class="line">    <span class="comment">// …</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://stackoverflow.com/questions/771983/what-is-context-object-design-pattern" target="_blank" rel="noopener">what is context object design pattern?</a><br><a href="http://misko.hevery.com/2008/10/27/pass-around-ginormous-context-objects/" target="_blank" rel="noopener">Pass Around Ginormous Context Objects</a></p>






<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
