<html>
<head>
	
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><title>algorithm-bit</title>
	<meta name="keywords" content="代码人生,程序员,赵坤" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <!--<link rel="stylesheet" href="/css/main.css">-->
	<link href="/css/main.css?v=2" rel="stylesheet" type="text/css" />
    <!--<link rel="stylesheet" href="/css/style.css">-->
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2"/><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</head>

<body>

<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 id="Bit-Manipulation"><a href="#Bit-Manipulation" class="headerlink" title="Bit Manipulation"></a>Bit Manipulation</h2><h3 id="如何清除从右侧数索引-i-到索引-j-位的值-based-0"><a href="#如何清除从右侧数索引-i-到索引-j-位的值-based-0" class="headerlink" title="如何清除从右侧数索引 i 到索引 j 位的值 (based 0):"></a>如何清除从右侧数索引 <code>i</code> 到索引 <code>j</code> 位的值 (based 0):</h3><p>例如清除 <code>11111111</code> 索引 2 到 索引 4 的值: 变成 <code>11100011</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> allOnew = ~<span class="number">0</span>; <span class="comment">// equal sequence of all 1s</span></span><br><span class="line"><span class="keyword">int</span> left = allOnes &lt;&lt; (j + <span class="number">1</span>); <span class="comment">// 11111111 左移 5 位 11100000</span></span><br><span class="line"><span class="keyword">int</span> right = ((<span class="number">1</span> &lt;&lt; i) - <span class="number">1</span>); <span class="comment">// 00000001 左移 2 位 00000100，减 1: 00000011</span></span><br><span class="line"><span class="keyword">int</span> mask = left | right; <span class="comment">// 11100011</span></span><br></pre></td></tr></table></figure>
<h3 id="determine-the-number-of-bits-you-would-need-to-flip-to-convert-interger-A-to-integer-B"><a href="#determine-the-number-of-bits-you-would-need-to-flip-to-convert-interger-A-to-integer-B" class="headerlink" title="determine the number of bits you would need to flip to convert interger A to integer B"></a>determine the number of bits you would need to flip to convert interger A to integer B</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 29 (or: 11101), 15 (or: 01111)</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure>
<ul>
<li>how you world figure out which bits in two numbers are different. Simple: with an <code>XOR</code>:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 1 1 0 1</span><br><span class="line">0 1 1 1 1</span><br><span class="line">----------</span><br><span class="line">1 0 0 1 0</span><br></pre></td></tr></table></figure>
<p>To check the number of bits that are different between A and B, we simple need to <strong>count</strong> the number of bits in <code>A^B</code> that are <strong>1</strong>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bitSwapRequired</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> c = a ^ b; c != <span class="number">0</span>; c = c &gt;&gt; <span class="number">1</span>) &#123;</span><br><span class="line">        count += c &amp; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This code is good, but we can make it a bit better. Rather than simply shifting c repeatedly while checking the least significant bit, we can continuously flip the least significant bit and count how long it takes c to reach 0.The operation <code>c = c &amp; ( c - 1)</code> will <strong>clear</strong> the least significant bit in c.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1 0 0 1 0</span><br><span class="line">1 0 0 0 1</span><br><span class="line">----------</span><br><span class="line">1 0 0 0 0 &lt;- 清楚掉最右侧的 1</span><br><span class="line">0 1 1 1 1</span><br><span class="line">----------</span><br><span class="line">0 0 0 0 0 &lt;- 清楚掉最右侧的 1</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bitSwapRequired</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> c = a ^ b; c != <span class="number">0</span>; c = c &amp; (c - <span class="number">1</span>)) &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Maximum-Product-of-Word-Lengths"><a href="#Maximum-Product-of-Word-Lengths" class="headerlink" title="Maximum Product of Word Lengths"></a><a href="https://leetcode.com/problems/maximum-product-of-word-lengths/description/" target="_blank" rel="noopener">Maximum Product of Word Lengths</a></h3><p>the two words do not share <strong>common</strong> letters:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">int</span> len = words.length;</span><br><span class="line">        <span class="keyword">int</span>[] value = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 标记每个单词所拥有的字母</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            String tmp = words[i];</span><br><span class="line">            value[i] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; tmp.length(); j++) &#123;</span><br><span class="line">                <span class="comment">// 1 &lt;&lt; 0 =&gt; 0001</span></span><br><span class="line">                <span class="comment">// 1 &lt;&lt; 1 =&gt; 0010</span></span><br><span class="line">                <span class="comment">// 1 &lt;&lt; 2 =&gt; 0100</span></span><br><span class="line">                <span class="comment">// 1 &lt;&lt; 3 =&gt; 1000</span></span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">                value[i] |= <span class="number">1</span> &lt;&lt; (tmp.charAt(j) - <span class="string">'a'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">int</span> maxProduct = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">                <span class="comment">// do not share common letters</span></span><br><span class="line">                <span class="keyword">if</span> ((value[i] &amp; value[j]) == <span class="number">0</span> &amp;&amp; (words[i].length() * words[j].length() &gt; maxProduct))</span><br><span class="line">                    maxProduct = words[i].length() * words[j].length();</span><br><span class="line">            &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> maxProduct;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Java-Int-gt-Bit’s-String"><a href="#Java-Int-gt-Bit’s-String" class="headerlink" title="Java Int -&gt; Bit’s String"></a>Java Int -&gt; Bit’s String</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Integer.toBinaryString(<span class="keyword">int</span> i)</span><br></pre></td></tr></table></figure>
<hr>
<p>无符右移和有符右移:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 00111111111111111111111111111110</span><br><span class="line">-5 &gt;&gt;&gt; 2</span><br><span class="line">// 11111111111111111111111111111110</span><br><span class="line">-5 &gt;&gt; 2</span><br><span class="line"></span><br><span class="line">// 10</span><br><span class="line">5 &gt;&gt; 1</span><br><span class="line">// 10</span><br><span class="line">5 &gt;&gt;&gt; 1</span><br></pre></td></tr></table></figure>
<p>没有 <code>&lt;&lt;&lt;</code> 这个符号</p>
<hr>
<p>如何根据 <code>5 (0000 0101)</code> 创建一个 <code>1111 1000</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> mask = ~<span class="number">0</span>; <span class="comment">// 1111 1111</span></span><br><span class="line"><span class="keyword">while</span> ((num &amp; mask) != <span class="number">0</span>) &#123;</span><br><span class="line">    mask &lt;&lt;= <span class="number">1</span>; <span class="comment">// bit left shift 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>过程:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1111 1111 &lt;- Initial Mask</span><br><span class="line">0000 0101</span><br><span class="line">---------</span><br><span class="line">0000 0101</span><br><span class="line"></span><br><span class="line">1111 1110 &lt;- Mask Left Shift 1</span><br><span class="line">0000 0101</span><br><span class="line">---------</span><br><span class="line">0000 0100</span><br><span class="line"></span><br><span class="line">1111 1100 &lt;- Mask Left Shift 2</span><br><span class="line">0000 0101</span><br><span class="line">---------</span><br><span class="line">0000 0100</span><br><span class="line"></span><br><span class="line">1111 1000 &lt;- Mask Left Shift 3</span><br><span class="line">0000 0101</span><br><span class="line">---------</span><br><span class="line">0000 0000</span><br><span class="line"></span><br><span class="line">1111 1000 &lt;- Finally, You Got It</span><br></pre></td></tr></table></figure>
<h3 id="476-Number-Complement"><a href="#476-Number-Complement" class="headerlink" title="476. Number Complement"></a><a href="https://leetcode.com/problems/number-complement/discuss/" target="_blank" rel="noopener">476. Number Complement</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findComplement</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// num: 5: 0000 0101</span></span><br><span class="line">        <span class="keyword">unsigned</span> mask = ~<span class="number">0</span>; <span class="comment">// 1111 1111</span></span><br><span class="line">        <span class="keyword">while</span> (num &amp; mask) mask &lt;&lt;= <span class="number">1</span>; <span class="comment">// mask: 1111 1000</span></span><br><span class="line">        <span class="comment">// ~mask: 0000 0111</span></span><br><span class="line">        <span class="comment">//  ~num: 1111 1010</span></span><br><span class="line">        <span class="comment">// ----------------</span></span><br><span class="line">        <span class="comment">//        0000 0010</span></span><br><span class="line">        <span class="keyword">return</span> ~mask &amp; ~num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><!-- hexo-inject:begin --><!-- hexo-inject:end -->






</body>
</html>
